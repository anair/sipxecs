# Use delay-compressed logfiles
compress
delaycompress

# Keep 14 days of logs
daily
rotate 14

# It's OK if the files aren't there
missingok

# Now we list the files, excluding sipxconfig.log.  If you have
# a log file that starts with 's' but not with 'sip', and you
# want it rotated w/o copytruncate, list full path name here
@SIPX_LOGDIR@/sip?[!c]*.log @SIPX_LOGDIR@/[!s]*.log {
}

# Java does not reopen log file periodically, make a copy
# and truncate current log file.  May lose some data, but 
# this will be addressed in future release
@SIPX_LOGDIR@/sipxconfig.log {
   copytruncate
}

@SIPX_LOGDIR@/httpd_error_log @SIPX_LOGDIR@/httpd_access_log {
    notifempty
    sharedscripts
    postrotate
        /bin/kill -USR1 `cat @SIPX_RUNDIR@/httpd.pid 2>/dev/null` 2> /dev/null || true
    endscript
}
