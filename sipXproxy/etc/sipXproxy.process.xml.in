<?xml version="1.0"?>
<watchdog-process enable="true" xmlns="http://www.sipfoundry.org/sipX/schema/xml/watchdogprocess-00-01">
  <process_definitions>
    <group name="CommServer" >
        <process name="SIPXProxy">
            <dependentdelay wait="1" />
            <stdout file="/dev/null" />
            <stderr file="/dev/null" />
            <stdin  file="" />

            <start control="true">
                <execute command="@bindir@/sipXproxy.sh"
                         parameters=""
                         defaultdir="@SIPX_LOGDIR@" />
            </start>

            <!-- If no execute, then kill -->
            <stop control="true" />

            <!-- If no execute, then stop-start -->
            <restart control="true" />

            <!-- <dependency>??</dependency> -->
        </process>
    </group>
  </process_definitions>
  <watchdog>
   <monitor>
      <monitor-process name="SIPXProxy"
         restart="enable" max_restarts="3" report="enable" max_reports="3">
         <failure_contact method="email">@SIPXPBXUSER@@localhost</failure_contact>
      </monitor-process>
   </monitor>
  </watchdog>
</watchdog-process>
