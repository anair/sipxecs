<?xml version="1.0"?>
<!DOCTYPE model PUBLIC "-//SIPFoundry//sipXconfig//Model specification 2.0//EN" 
  "http://www.sipfoundry.org/sipXconfig/dtd/setting_2_0.dtd">
<model>
  <type id="switch">
    <boolean>
      <true>
        <value>true</value>
      </true>
      <false>
        <value>false</value>
      </false>
    </boolean>
  </type>
  <group name="bridge-configuration">
    <label>SIP</label>
    <setting name="external-address">
      <label>External address</label>
      <description>The ITSP facing address. The ITSP will send signaling here. This can be a local address. If you have only one interface on your machine
      it will be the same as your local address.
     </description>
    </setting>
    <setting name="external-port">
      <label>External port</label>
      <type>
        <integer required="yes" />
      </type>
      <value>5080</value>
      <description>The ITSP facing port. The ITSP will send signaling here.
	Must be different from local-port if local-address is the same as external-address. </description>
    </setting>
    <setting name="local-address" hidden="yes">
      <type>
        <string required="yes"></string>
      </type>
      <description>The SIPX proxy facing address. The SIPX proxy will send signaling here.</description>
    </setting>
    <setting name="local-port" hidden="yes">
      <type>
        <integer required="yes" />
      </type>
      <value>5090</value>
      <description>The SIPX proxy facing port. The SIPX proxy will send signaling here.</description>
    </setting>
    <setting name="sipx-proxy-domain" hidden="yes">
      <description>The sipXecs proxy domain.</description>
    </setting>
    <setting name="global-address">
      <label>Public Address</label>
      <description>This setting is relevant if your ITSP requires a public address to be specificed and if you do not wish to use STUN
	to determine that address. If you enter a public address here, any STUN settings will be ignored.
     </description>
    </setting>
    <setting name="stun-server-address">
      <label>STUN server</label>
      <value>stun01.sipphone.com</value>
      <description>The stun server address used to determine the global address of the bridge. If you enter a static global address, this
	field is ignored.
      </description>
    </setting>
    <setting name="sip-keepalive-seconds" advanced="yes">
      <label>Signaling keep-alive interval</label>
      <type>
        <integer required="yes" />
      </type>
      <value>20</value>
      <description>
        Keepalive timer for SIP Signaling. sipXbridge will re-register with each ITSP to keep the NAT pinhole open
      </description>
    </setting>
    <setting name="media-keepalive-seconds" advanced="yes">
      <label>Media keep-alive interval</label>
      <type>
        <integer required="yes" />
      </type>
      <value>1</value>
      <description>
        Keepalive timer for RTP. Each RTP stream facing the ITSP will start a timer that runs with this timeout (in
        seconds). If packets are not seen in the specified interval, the keepalive timer will send packets.
      </description>
    </setting>
    <setting name="xml-rpc-port" advanced="yes" hidden="yes">
      <label>API port</label>
      <type>
        <integer />
      </type>
      <description>
        Port for external XML/RPC requests to be directed. If not specified, the XML RPC server is not started.
	The XML RPC interface is used by sipxconfig to report status to the user.
      </description>
    </setting>
    <setting name="max-number-of-concurrent-calls">
      <label>Maximum calls</label>
      <type>
        <integer />
      </type>
      <description>
        The maximum number of concurrent calls allowed via the given bridge overall. When the limit is reached,
        sipxbridge will return "Service Unavailable". If nothing is specified, no limit is placed on the max number of
        concurrent calls. 
      </description>
    </setting>
    <setting name="music-on-hold-support-enabled">
      <label>Music on hold</label>
      <type>
        <boolean>
          <true>
            <value>true</value>
          </true>
          <false>
            <value>false</value>
          </false>
        </boolean>
      </type>
      <value>false</value>
      <description>
        If checked sipXbridge Music On Hold support is enabled. Phones should disable their MOH support if sipXbridge
        support for MOH is enabled.
      </description>
    </setting>
    <setting name="rtp-port-range-start" advanced="yes">
      <label>Start RTP port</label>
      <profileName>$ignore$</profileName>
      <type>
        <integer required="yes" />
      </type>
      <value>25000</value>
      <description>Start of the RTP ports range.</description>
    </setting>
    <setting name="rtp-port-range-end" advanced="yes">
      <label>End RTP port</label>
      <profileName>$ignore$</profileName>
      <type>
        <integer required="yes" />
      </type>
      <value>25500</value>
      <description>End of the RTP ports range.</description>
    </setting>
    <setting name="rtp-port-range" hidden="yes"></setting>
    <setting name="is-reinvite-supported" advanced="yes" >
      <label>re-INVITE Support</label>
      <type refid="switch" />
      <value>true</value>
      <description>
        If checked, reINVITE is supported by the ITSP. This allows sipxbridge to delay codec
        choice for call setup when dealing with call transfers and can give you a wider range
	of codecs to chose from.
      </description>
    </setting>
    <setting name="allowed-codec-name" advanced="yes" >
      <label>Allowed Codec Name</label>
      <type>
        <enum>
          <option>
            <value>PCMU</value>
          </option>
          <option>
            <value>G729</value>
          </option>
          <option>
            <value>G723</value>
          </option>
        </enum>
      </type>
      <value>PCMU</value>
      <description>
        The codec for the SDP Offer that is allowable. This parameter is ONLY relevant if the ITSPs do NOT support ReINVITE.
	Otherwise it is ignored. If is-reinvite-supported flag is set to "false" then SDP offers and answers are filtered
        to allow only this codec through.
      </description>
    </setting>
    <setting name="log-level" advanced="yes">
      <label>Logging level</label>
      <type>
        <enum>
          <option>
            <value>INFO</value>
          </option>
          <option>
            <value>WARN</value>
          </option>
          <option>
            <value>ERROR</value>
          </option>
          <option>
            <value>DEBUG</value>
          </option>
        </enum>
      </type>
      <value>INFO</value>
      <description>Log configuration. Defaults to INFO level.</description>
    </setting>

    <setting name="log-directory" hidden="yes">
      <description>Log directory. The log file name is hard coded to "sipxbridge.log".</description>
    </setting>
  </group>
</model>
