<html>
<head>
    <link rel="stylesheet" type="text/css" href="../../css/sipxconfig.css"/>
</head>
<body jwcid="$content$">
	<div jwcid="@common/Border">
        <h2><span key="title">Services</span></h2>
        <span jwcid="@common/ErrorMsg"/>
        <span jwcid="@common/QuickHelp" value="message:quick.help"/>
	<form jwcid="form@Form" id="services:form"
	   delegate="bean:validator" listener="listener:refresh">
            <fieldset jwcid="renderLocation@If" condition="ognl:locationsManager.locations.length > 1">
                <table>
                    <tr jwcid="locationPanel@common/FieldPanel"
                       field="ognl:components.locationSelection"
                       label="message:label.locations"
                       description="message:description.locations">
                       <span jwcid="locationSelection@PropertySelection"
                          value="ognl:serviceLocation"
                          model="bean:locationModel"
                          onchange="javascript:this.form.submit();"/>
                    </tr>
                </table>
            </fieldset>
            <fieldset>
                <table jwcid="tableView@common/Table" id="services"
                   source="ognl:serviceStatus" selections="ognl:selections"
                   columns="* serviceName, status" usePager="ognl:false"
                   converter="bean:serverStatusConverter" row="ognl:currentRow">
                   <span jwcid="statusColumnValue@Block">
                      <span jwcid="viewStatusLabel@Insert"
                         value="ognl:messages.getMessage('status.' + currentRow.status.name)" />
                   </span>
                   <span jwcid="serviceNameColumnValue@Block">
                      <span jwcid="@If" condition="ognl:currentRowHasServiceLink">
                         <a jwcid="@DirectLink"
                            listener="listener:editService"
                            parameters="ognl:currentRow.serviceName">
                            <span jwcid="@Insert" value="ognl:currentRow.serviceName"/>
                         </a>
                      </span>
                      <span jwcid="@Else">
                         <span jwcid="@Insert" value="ognl:currentRow.serviceName"/>
                      </span>
                   </span>
                </table>
            </fieldset>
			<ul class="component-submit">
				<li><input jwcid="startButton@Submit" type="submit" id="services:start"
				   action="listener.start" value="message:button.start"/></li>
				<li><input jwcid="stopButton@Submit" type="submit" id="services:stop"
				   action="listener:stop" value="message:button.stop"/></li>
				<li><input jwcid="restartButton@Submit" type="submit" id="services:restart"
				   action="listener:restart" value="message:button.restart"/></li>
				<li><input jwcid="refreshButton@Submit" type="submit" id="services:refresh"
				   value="message:button.refresh"/></li>
			</ul>
		</form>
    </div>
</body>
</html>
