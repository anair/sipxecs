<div jwcid="@common/Border" useDojo="true">
  <h2><span key="title">Configuration for Alarms</span></h2>
  <span jwcid="@common/ErrorMsg" />
  <span jwcid="@common/QuickHelp" value="message:quick.help" />
  <form jwcid="@Form" id="configAlarmForm" delegate="bean:validator">
    <ul class="component-links">
      <li jwcid="@common/ToggleLink" toggle="ognl:advanced"></li>
    </ul>
    <fieldset>
      <table>
        <tbody>
		  <tr jwcid="@common/FieldPanel" for="enableEmailNotification" field="component:enableEmailNotification"
		      label="message:label.enableAlarmServerEmailNotification">
            <span jwcid="enableEmailNotification@Checkbox" id="enableEmailNotification" value="ognl:alarmServer.emailNotificationEnabled"/>
          </tr>
        </tbody>
      </table>
    </fieldset>
    <div jwcid="@common/QuickHelp" value="message:help.emailNotificationContacts"/>
	<fieldset jwcid="@common/ListPanel"
      label="message:label.emailNotificationContacts"
      addLinkLabel="message:link.addEmail"
      itemDisplayName="message:label.email"
      validators="spring-validators:required>"
      source="ognl:alarmServer.contacts.addresses"/>
    <ul jwcid="formActions@common/FormActions" listener="listener:activate"/>
	<fieldset jwcid="@If" condition="ognl:advanced">
	  <legend><span key="label.alarms"/></legend>
      <div jwcid="@admin/AlarmTypes" validator="bean:validator"
           selections="ognl:selections" 
           alarms="ognl:alarms"/>
	  <ul class="component-submit">
        <li>
	      <input jwcid="enableEmail@Submit" id="alarms:enableEmail"
		         value="message:button.enableEmail"
                 listener="listener:emailNotification" />
        </li>
      </ul>           
    </fieldset>
  </form>
</div>
